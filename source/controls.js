enyo.kind({name:"videoControls",kind:enyo.VFlexBox,events:{onPlay:"",onPause:"",onChangeCurrentTime:"",onFullScreen:""},published:{playing:false,disabled:true,duration:0},components:[{kind:"Header",className:"playerControl",width:"100%",height:"82px",components:[{kind:"HFlexBox",components:[{name:"btnPlay",kind:"Button",className:"play disabled",disabled:true,label:" ",onclick:"playpause"},{kind:"Image",name:"loading",showing:false,src:"images/spinner-large.png",width:"56px",height:"56px"}]},{kind:"HFlexBox",className:"progress",flex:1,pack:"center",align:"center",components:[{name:"currentTime",width:"48px",kind:"Control",className:"currentTime",content:"--:--:--"},{name:"slider",kind:"ProgressSlider",onChange:"positionChanged",onChanging:"positionChanging",tapPosition:true,lockBar:true,flex:1},{name:"duration",width:"48px",kind:"Control",className:"duration",content:"--:--:--"}]}]}],create:function(){this.inherited(arguments)},playpause:function(b,a){switch(this.playing){case false:this.doPlay(true);this.playing=true;break;case true:this.doPause(true);this.playing=false;break}},disabledChanged:function(b,a){switch(this.disabled){case false:this.$.btnPlay.setDisabled(false);this.$.btnPlay.removeClass("disabled");break;case true:this.$.btnPlay.setDisabled(true);this.$.btnPlay.addClass("disabled");this.updateCurrentTimePosition(0);this.updateBufferedPosition(0);this.$.currentTime.setContent("--:--:--");this.$.duration.setContent("--:--:--");break}},playingChanged:function(b,a){if(this.playing){this.$.btnPlay.removeClass("play");this.$.btnPlay.addClass("pause")}else{this.$.btnPlay.addClass("play");this.$.btnPlay.removeClass("pause")}},durationChanged:function(){this.$.btnPlay.setDisabled(false);this.$.duration.setContent(this.secondsToTime(this.duration));this.$.currentTime.setContent("00:00:00")},positionChanged:function(c,b){this.$.slider.setPositionImmediate(b);var a=b/(100/this.duration);this.doChangeCurrentTime(a);if(this.playing){this.doPlay(true)}},positionChanging:function(c,b){this.doPause(false);var a=b/(100/this.duration);this.doChangeCurrentTime(a)},updateCurrentTimePosition:function(a){var b=(a*100)/this.duration;this.$.slider.setPositionImmediate(b);this.$.currentTime.setContent(this.secondsToTime(a))},updateBufferedPosition:function(a){var b=(a*100)/this.duration;this.$.slider.setAltBarPosition(b)},secondsToTime:function(d){var b=Math.floor(d/(60*60));var e=d%(60*60);var c=Math.floor(e/60);var a=e%60;var g=Math.ceil(a);var f=this.pad(b,2)+":"+this.pad(c,2)+":"+this.pad(g,2);return f},pad:function(b,a){var c=""+b;while(c.length<a){c="0"+c}return c}});