enyo.kind({name:"avis",kind:enyo.VFlexBox,published:{shows:[]},components:[{kind:"Pane",transitionKind:"enyo.transitions.Fade",onSelectView:"mainViewSelected",flex:1,components:[{kind:"HFlexBox",flex:1,pack:"center",align:"center",components:[{kind:"Control",className:"loadingString",content:"Loading:"},{kind:"ProgressButton",name:"progress",className:"progressBar",flex:1,cancelable:false}]},{kind:"SlidingPane",name:"app",flex:1,components:[{width:"80px",kind:"SlidingView",components:[{kind:"showsList",onSelect:"showSelected",flex:1}]},{width:"25%",kind:"SlidingView",name:"episodesView",components:[{kind:"episodesList",onSelect:"episodeSelected",flex:1}]},{name:"content",kind:"SlidingView",onResize:"resizeHandler",flex:1,components:[{kind:"avis.video",flex:1}]}]}]},{kind:"avis.rss",name:"rss",onSuccess:"gotShows",onMetadata:"setProgressData",onIncrement:"setProgressPos"},{kind:"AppMenu",}],create:function(){this.inherited(arguments);this.selectedShowRow},rendered:function(){this.$.rss.getShows()},unloadHandler:function(){this.destroy()},setProgressData:function(a,b){this.$.progress.setMaximum(b)},setProgressPos:function(b,a){this.$.progress.setPosition(a)},gotShows:function(d,c){var a=[];for(var b=0;b<c.length;b++){a.push(c[b].favicon)}this.$.showsList.setFavicons(a);this.$.pane.selectViewByIndex(1);this.setShows(c)},mainViewSelected:function(b,a){setTimeout(function(c){if(c.$.video.$.video.hasNode()){c.$.video.setListeners()}},0,this)},showSelected:function(d,b){this.$.episodesList.setSelectedShow(b);var c=[];for(var a=0;a<this.shows[b].video.length;a++){c.push(this.shows[b].video[a].title[0].Text.replace(this.shows[b].title+" ",""))}this.$.episodesList.setShowName(this.shows[b].name);this.$.episodesList.setTitles(c);this.selectedShowRow=b},episodeSelected:function(c,b){this.$.episodesList.setPlayingShow(this.selectedShowRow);this.$.video.setEpisodeName(this.shows[this.selectedShowRow].video[b].title[0].Text);try{this.$.video.setVideo(this.shows[this.selectedShowRow].video[b].enclosure[0].url)}catch(a){this.$.video.setVideo("")}try{this.$.video.setAudio(this.shows[this.selectedShowRow].audio[b].enclosure[0].url)}catch(a){this.$.video.setAudio("")}this.$.video.initVideo()},resizeHandler:function(){this.$.video.resizeVideo()}});